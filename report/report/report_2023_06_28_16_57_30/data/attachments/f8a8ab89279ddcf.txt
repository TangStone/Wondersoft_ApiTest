[32mINFO    [0m root:test_16_syslogrule.py:37 ==========开始执行用例：syslogrule_getmetadata_01==========
[32mINFO    [0m root:runcase.py:31 -·-·-·-·-·-·-·-·-·-发送请求并接受信息 START-·-·-·-·-·-·-·-·-·-
[32mINFO    [0m root:handleyaml.py:94 Yaml测试用例基础架构检查通过
[32mINFO    [0m root:runcase.py:31 -·-·-·-·-·-·-·-·-·-发送请求并接受信息 START-·-·-·-·-·-·-·-·-·-
[32mINFO    [0m root:handleyaml.py:94 Yaml测试用例基础架构检查通过
[32mINFO    [0m root:runcase.py:50 重组后的用例信息：{'name': '获取所有可用于syslog的元数据字段信息', 'description': '获取所有可用于syslog的元数据字段信息', 'validate': {'code': 200, 'response': [{'childAssets': [{'assetId': 'system_admin_log_audit', 'assetName': '审计日志'}], 'assetId': '1', 'assetName': '统一基础平台'}]}, 'epic': '系统管理', 'feature': '运维管理-Syslog规则配置', 'story': '获取所有可用于syslog的元数据字段信息接口', 'base_url': 'https://192.168.148.174:31000', 'request': {'method': 'GET', 'address': '/api/auth/v1/metadata/getAssetTreeByMetadata', 'headers': {'Content-Type': 'application/x-www-form-urlencoded', 'token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJhdWQiOiJhcHBsaWNhdGlvbiIsInN1YiI6Ijc2ZDQ0NmFlLTdkMGEtNDVhYy04NzE0LTgxNmQzMzRjYzg4ZSIsImlzcyI6ImJtc19zZXJ2ZXIiLCJzZXNzaW9uSWQiOiI3NmQ0NDZhZS03ZDBhLTQ1YWMtODcxNC04MTZkMzM0Y2M4OGUiLCJleHAiOjE2ODgxMjIyMDEsImlhdCI6MTY4Nzk0MjIwMX0.FWYPT5nPgOdBtOT0wGRVZNVTB6oggV1ehXLgP2gppALL2Djxp_46T_KhaOizqJlxUPAYRWJs7nKHiU-ug2qGKA', 'Referer': 'https://192.168.148.174:31000/sub-app-unity/syslogManage'}}, 'caseid': 'syslogrule_getappcode_01'}
[32mINFO    [0m root:runcase.py:81 请求地址：https://192.168.148.174:31000/api/auth/v1/metadata/getAssetTreeByMetadata
[32mINFO    [0m root:runcase.py:82 请求方法：GET
[32mINFO    [0m root:runcase.py:83 请求头：{'Content-Type': 'application/x-www-form-urlencoded', 'token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJhdWQiOiJhcHBsaWNhdGlvbiIsInN1YiI6Ijc2ZDQ0NmFlLTdkMGEtNDVhYy04NzE0LTgxNmQzMzRjYzg4ZSIsImlzcyI6ImJtc19zZXJ2ZXIiLCJzZXNzaW9uSWQiOiI3NmQ0NDZhZS03ZDBhLTQ1YWMtODcxNC04MTZkMzM0Y2M4OGUiLCJleHAiOjE2ODgxMjIyMDEsImlhdCI6MTY4Nzk0MjIwMX0.FWYPT5nPgOdBtOT0wGRVZNVTB6oggV1ehXLgP2gppALL2Djxp_46T_KhaOizqJlxUPAYRWJs7nKHiU-ug2qGKA', 'Referer': 'https://192.168.148.174:31000/sub-app-unity/syslogManage'}
[35mDEBUG   [0m urllib3.connectionpool:connectionpool.py:1003 Starting new HTTPS connection (1): 192.168.148.174:31000
[35mDEBUG   [0m urllib3.connectionpool:connectionpool.py:456 https://192.168.148.174:31000 "GET /api/auth/v1/metadata/getAssetTreeByMetadata HTTP/1.1" 200 326
[32mINFO    [0m root:runcase.py:166 请求接口结果： [{'childAssets': [{'assetId': 'system_admin_log_audit', 'assetName': '审计日志'}], 'assetId': '1', 'assetName': '统一基础平台'}, {'childAssets': [{'assetId': 'sas_v3_doc', 'assetName': '终端行为审计'}, {'assetId': 'sas_v3_behavior_doc', 'assetName': '终端业务告警'}], 'assetId': '4', 'assetName': '数据安全管理系统'}]
[32mINFO    [0m root:checkresult.py:152 code断言通过, 期望状态码:200, 实际状态码:200
[32mINFO    [0m root:checkresult.py:87 返回结果断言通过, 期望返回值:[{'childAssets': [{'assetId': 'system_admin_log_audit', 'assetName': '审计日志'}], 'assetId': '1', 'assetName': '统一基础平台'}], 实际返回值:[{'childAssets': [{'assetId': 'system_admin_log_audit', 'assetName': '审计日志'}], 'assetId': '1', 'assetName': '统一基础平台'}, {'childAssets': [{'assetId': 'sas_v3_doc', 'assetName': '终端行为审计'}, {'assetId': 'sas_v3_behavior_doc', 'assetName': '终端业务告警'}], 'assetId': '4', 'assetName': '数据安全管理系统'}]
[32mINFO    [0m root:runcase.py:61 -·-·-·-·-·-·-·-·-·-发送请求并接受信息 END-·-·-·-·-·-·-·-·-·-
[32mINFO    [0m root:runcase.py:50 重组后的用例信息：{'name': '获取统一平台-审计日志syslog字段列表', 'description': '获取统一平台-审计日志syslog字段列表', 'request': {'data': {'appCode': 'system_admin_log_audit', 'platformId': '1'}, 'method': 'POST', 'address': '/api/auth/v1/metadata/getAllSyslogMetadataFields', 'headers': {'Content-Type': 'application/x-www-form-urlencoded', 'token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJhdWQiOiJhcHBsaWNhdGlvbiIsInN1YiI6Ijc2ZDQ0NmFlLTdkMGEtNDVhYy04NzE0LTgxNmQzMzRjYzg4ZSIsImlzcyI6ImJtc19zZXJ2ZXIiLCJzZXNzaW9uSWQiOiI3NmQ0NDZhZS03ZDBhLTQ1YWMtODcxNC04MTZkMzM0Y2M4OGUiLCJleHAiOjE2ODgxMjIyMDEsImlhdCI6MTY4Nzk0MjIwMX0.FWYPT5nPgOdBtOT0wGRVZNVTB6oggV1ehXLgP2gppALL2Djxp_46T_KhaOizqJlxUPAYRWJs7nKHiU-ug2qGKA', 'Referer': 'https://192.168.148.174:31000/sub-app-unity/syslogManage'}}, 'relevance': [{'caseid': 'syslogrule_getappcode_01', 'response': [{'value': '$.[0].childAssets[0].assetId', 'name': 'appCode'}, {'value': '$.[0].assetId', 'name': 'platformId'}]}], 'validate': {'code': 200, 'response': [{'fieldName': 'adminName', 'indexPrefix': 'system_admin_log_audit', 'label': '管理员账户名', 'platformId': '1', 'value': 1000002}]}, 'epic': '系统管理', 'feature': '运维管理-Syslog规则配置', 'story': '查看syslog元数据接口', 'base_url': 'https://192.168.148.174:31000', 'caseid': 'syslogrule_getmetadata_01'}
[32mINFO    [0m root:runcase.py:81 请求地址：https://192.168.148.174:31000/api/auth/v1/metadata/getAllSyslogMetadataFields
[32mINFO    [0m root:runcase.py:82 请求方法：POST
[32mINFO    [0m root:runcase.py:83 请求头：{'Content-Type': 'application/x-www-form-urlencoded', 'token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJhdWQiOiJhcHBsaWNhdGlvbiIsInN1YiI6Ijc2ZDQ0NmFlLTdkMGEtNDVhYy04NzE0LTgxNmQzMzRjYzg4ZSIsImlzcyI6ImJtc19zZXJ2ZXIiLCJzZXNzaW9uSWQiOiI3NmQ0NDZhZS03ZDBhLTQ1YWMtODcxNC04MTZkMzM0Y2M4OGUiLCJleHAiOjE2ODgxMjIyMDEsImlhdCI6MTY4Nzk0MjIwMX0.FWYPT5nPgOdBtOT0wGRVZNVTB6oggV1ehXLgP2gppALL2Djxp_46T_KhaOizqJlxUPAYRWJs7nKHiU-ug2qGKA', 'Referer': 'https://192.168.148.174:31000/sub-app-unity/syslogManage'}
[32mINFO    [0m root:runcase.py:93 请求参数：{'appCode': 'system_admin_log_audit', 'platformId': '1'}
[35mDEBUG   [0m urllib3.connectionpool:connectionpool.py:1003 Starting new HTTPS connection (1): 192.168.148.174:31000
[35mDEBUG   [0m urllib3.connectionpool:connectionpool.py:456 https://192.168.148.174:31000 "POST /api/auth/v1/metadata/getAllSyslogMetadataFields HTTP/1.1" 200 1321
[32mINFO    [0m root:runcase.py:155 请求接口结果： [{'fieldName': 'createTime', 'indexPrefix': 'system_admin_log_audit', 'label': '创建时间', 'platformId': '1', 'value': 1000001}, {'fieldName': 'adminName', 'indexPrefix': 'system_admin_log_audit', 'label': '管理员账户名', 'platformId': '1', 'value': 1000002}, {'fieldName': 'sourceIp', 'indexPrefix': 'system_admin_log_audit', 'label': '源ip', 'platformId': '1', 'value': 1000003}, {'fieldName': 'module', 'indexPrefix': 'system_admin_log_audit', 'label': '角色级别', 'platformId': '1', 'value': 1000004}, {'fieldName': 'operateType', 'indexPrefix': 'system_admin_log_audit', 'label': '操作类型', 'platformId': '1', 'value': 1000005}, {'fieldName': 'operateInfo', 'indexPrefix': 'system_admin_log_audit', 'label': '操作详情', 'platformId': '1', 'value': 1000006}, {'fieldName': 'remark', 'indexPrefix': 'system_admin_log_audit', 'label': '备注', 'platformId': '1', 'value': 1000007}, {'fieldName': 'childModule', 'indexPrefix': 'system_admin_log_audit', 'label': '二级模块', 'platformId': '1', 'value': 1000008}, {'fieldName': 'thirdModule', 'indexPrefix': 'system_admin_log_audit', 'label': '三级模块', 'platformId': '1', 'value': 1000009}, {'fieldName': 'userSid', 'indexPrefix': 'system_admin_log_audit', 'label': '用户sid', 'platformId': '1', 'value': 1000010}, {'fieldName': 'systemId', 'indexPrefix': 'system_admin_log_audit', 'label': '系统标识', 'platformId': '1', 'value': 1000011}]
[32mINFO    [0m root:checkresult.py:152 code断言通过, 期望状态码:200, 实际状态码:200
[32mINFO    [0m root:checkresult.py:87 返回结果断言通过, 期望返回值:[{'fieldName': 'adminName', 'indexPrefix': 'system_admin_log_audit', 'label': '管理员账户名', 'platformId': '1', 'value': 1000002}], 实际返回值:[{'fieldName': 'createTime', 'indexPrefix': 'system_admin_log_audit', 'label': '创建时间', 'platformId': '1', 'value': 1000001}, {'fieldName': 'adminName', 'indexPrefix': 'system_admin_log_audit', 'label': '管理员账户名', 'platformId': '1', 'value': 1000002}, {'fieldName': 'sourceIp', 'indexPrefix': 'system_admin_log_audit', 'label': '源ip', 'platformId': '1', 'value': 1000003}, {'fieldName': 'module', 'indexPrefix': 'system_admin_log_audit', 'label': '角色级别', 'platformId': '1', 'value': 1000004}, {'fieldName': 'operateType', 'indexPrefix': 'system_admin_log_audit', 'label': '操作类型', 'platformId': '1', 'value': 1000005}, {'fieldName': 'operateInfo', 'indexPrefix': 'system_admin_log_audit', 'label': '操作详情', 'platformId': '1', 'value': 1000006}, {'fieldName': 'remark', 'indexPrefix': 'system_admin_log_audit', 'label': '备注', 'platformId': '1', 'value': 1000007}, {'fieldName': 'childModule', 'indexPrefix': 'system_admin_log_audit', 'label': '二级模块', 'platformId': '1', 'value': 1000008}, {'fieldName': 'thirdModule', 'indexPrefix': 'system_admin_log_audit', 'label': '三级模块', 'platformId': '1', 'value': 1000009}, {'fieldName': 'userSid', 'indexPrefix': 'system_admin_log_audit', 'label': '用户sid', 'platformId': '1', 'value': 1000010}, {'fieldName': 'systemId', 'indexPrefix': 'system_admin_log_audit', 'label': '系统标识', 'platformId': '1', 'value': 1000011}]
[32mINFO    [0m root:runcase.py:61 -·-·-·-·-·-·-·-·-·-发送请求并接受信息 END-·-·-·-·-·-·-·-·-·-