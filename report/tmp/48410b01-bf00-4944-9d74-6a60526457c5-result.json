{"name": "自动化测试管理员用户修改密码成功", "status": "failed", "statusDetails": {"message": "AssertionError", "trace": "self = <test_cases.TestUserSync object at 0x000002684C758BE0>\ncase = 'useradminPasswdUpdate'\ncasedata = {'description': '自动化测试管理员用户修改密码成功', 'epic': '系统管理', 'feature': '权限管理', 'name': '自动化测试管理员用户修改密码成功', ...}\n\n    @pytest.mark.parametrize('case, casedata', readcase.ReadCase().get_case(businesscase_pathlist))\n    def test_businesscases(self, case, casedata):\n        handleallure.allure_display(casedata)\n        logging.info(\"==========执行用例START：%s==========\", case)\n>       runcase.RunCase().excute_case(casedata)\n\ntestcases\\test_cases.py:44: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ncommon\\runcase.py:59: in excute_case\n    self.excute_apicase(api, api_casedata)\ncommon\\runcase.py:90: in excute_apicase\n    checkresult.check_result(hope_result, recv_data, recv_code)\ncommon\\checkresult.py:33: in check_result\n    assert_db(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhope_res = [{'result': [{'path': '$.password', 'value': '394f481895a1c5bef3da3d0685f41453385ef0aa'}], 'sql': \"select password from `bms-general-aa`.t_sys_admin tsa where id = '854FA1D3-21DC41F7-8BF30466-F0D44F19'\", 'type': 'mysql'}]\n\n    def assert_db(hope_res):\n        \"\"\"\n        数据库校验\n        :param hope_res:\n        :return:\n        \"\"\"\n        if hope_res:\n            for dbcheck_data in hope_res:\n                db_type = dbcheck_data['type']  # 数据库类型\n                db_sql = dbcheck_data['sql']\n                if db_type == 'mysql':\n                    if db_sql[0:6].upper() == 'SELECT':\n                        sql_date = database.MysqlConn().mysql_query(db_sql)\n                        with allure.step(\"数据库校验校验\"):\n                            for param in dbcheck_data['result']:\n                                sql_value = jsonpath.jsonpath(sql_date, param['path'])\n                                value = param['value']\n                                try:\n                                    allure.attach(name=\"查询sql\", body=str(db_sql))\n                                    allure.attach(name=\"期望返回值\", body=str(value))\n                                    if sql_value:\n                                        allure.attach(name='实际返回值', body=str(sql_value[0]))\n>                                       assert str(value) == str(sql_value[0])\nE                                       AssertionError\n\ncommon\\checkresult.py:57: AssertionError"}, "description": "自动化测试管理员用户修改密码成功", "steps": [{"name": "新增用户组-新增成功", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "2dfeeaf5-7621-45b3-9991-d6529c8fa096-attachment.attach"}, {"name": "请求地址", "source": "0370d6b1-53d4-45f7-afc6-99ea97814ed5-attachment.attach"}, {"name": "请求头", "source": "6986bed3-4f69-4e09-abd5-e153b22dcfde-attachment.attach"}, {"name": "请求参数", "source": "798641d2-9e5f-4bd5-899c-10271dd69c25-attachment.attach"}, {"name": "请求结果", "source": "0244d2f9-7390-4932-8c27-427dd03c0985-attachment.attach"}], "start": 1691056367895, "stop": 1691056367973}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "49fb2938-7eb7-4297-b861-85bd65769f2b-attachment.attach"}, {"name": "实际状态码", "source": "547fae1b-f85b-416c-9854-c506f9214613-attachment.attach"}], "start": 1691056367973, "stop": 1691056367975}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "18232394-add5-4541-ad84-c475ceebf89e-attachment.attach"}, {"name": "实际返回值", "source": "45cc2aa1-7fb4-4e51-9e0b-755b69c09518-attachment.attach"}], "start": 1691056367975, "stop": 1691056367976}, {"name": "数据库校验校验", "status": "passed", "attachments": [{"name": "查询sql", "source": "fe2403ea-98a2-40cb-8766-7d6d86b14c85-attachment.attach"}, {"name": "期望返回值", "source": "16fb500d-3a9c-4ef3-86d0-fc3e8ed6fa1b-attachment.attach"}, {"name": "实际返回值", "source": "9b5addbf-0d50-45d4-9445-7d5632140723-attachment.attach"}], "start": 1691056368002, "stop": 1691056368005}], "start": 1691056367973, "stop": 1691056368005}], "start": 1691056367860, "stop": 1691056368005}, {"name": "搜索一级组织机构下特定用户组信息", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "f543c941-4fce-4e48-823e-8ce751cce3dc-attachment.attach"}, {"name": "请求地址", "source": "7f065841-07fa-425a-a8fc-5f52785aa42e-attachment.attach"}, {"name": "请求头", "source": "ff159df0-e8c1-4493-9357-9bd63936ffd4-attachment.attach"}, {"name": "请求参数", "source": "98e2ccd9-11d3-4eb0-b54a-ac8b094c9a53-attachment.attach"}, {"name": "请求结果", "source": "01b26728-6470-4705-aa5e-fe95e8cf26d5-attachment.attach"}], "start": 1691056368013, "stop": 1691056368070}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "dba643d3-0a61-4fda-aa5f-5a1f89e070c8-attachment.attach"}, {"name": "实际状态码", "source": "400ced54-2aa8-45c6-9af6-bc91542b9147-attachment.attach"}], "start": 1691056368070, "stop": 1691056368071}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "26a39be5-c74e-4b06-af47-82277adefb94-attachment.attach"}, {"name": "实际返回值", "source": "24b5c1db-e3c0-47f4-b9e7-31c07657e75c-attachment.attach"}], "start": 1691056368071, "stop": 1691056368072}, {"name": "json断言判断包含", "status": "passed", "attachments": [{"name": "期望结果", "source": "d62cb7a8-257c-414a-b181-75657aa7fe92-attachment.attach"}, {"name": "实际实际结果", "source": "684c5997-ddf8-4d96-989f-3dd5fd078069-attachment.attach"}], "start": 1691056368072, "stop": 1691056368073}], "start": 1691056368070, "stop": 1691056368073}], "start": 1691056368011, "stop": 1691056368075}, {"name": "自建用户组新增普通职员用户成功", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "7fed4e8e-a1a9-4b66-8107-e9e2beb11fe2-attachment.attach"}, {"name": "请求地址", "source": "0cd55dad-9922-4423-b06a-138dba9b70ca-attachment.attach"}, {"name": "请求头", "source": "4c57d1b5-ce0e-46ed-8639-3f92c328e27f-attachment.attach"}, {"name": "请求参数", "source": "d2a0d254-1fb6-4582-a54e-c44aa9acc745-attachment.attach"}, {"name": "请求结果", "source": "5a6996af-3f7b-4b26-b7ad-558deae174ef-attachment.attach"}], "start": 1691056368103, "stop": 1691056368172}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "cee3cfd3-65ec-453b-a6b6-4f78b5270649-attachment.attach"}, {"name": "实际状态码", "source": "cf29e77a-cc74-49b1-b4c9-f4129790d4e3-attachment.attach"}], "start": 1691056368172, "stop": 1691056368173}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "fbeedcdb-8951-43c7-8998-00de51023153-attachment.attach"}, {"name": "实际返回值", "source": "1a94b747-3112-4291-a027-bf9c48cc84ca-attachment.attach"}], "start": 1691056368173, "stop": 1691056368174}, {"name": "数据库校验校验", "status": "passed", "attachments": [{"name": "查询sql", "source": "5517ba8b-de15-4e69-b0e9-f62cb65afce9-attachment.attach"}, {"name": "期望返回值", "source": "6146e9c8-74e6-4525-a42e-76636626d8eb-attachment.attach"}, {"name": "实际返回值", "source": "6a3aaa56-a138-4f37-9e3e-aba49852ccd3-attachment.attach"}], "start": 1691056368206, "stop": 1691056368208}], "start": 1691056368172, "stop": 1691056368208}], "start": 1691056368082, "stop": 1691056368208}, {"name": "搜索自动化测试组织机构下的用户列表-根据姓名搜索", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "c42f89e3-0b44-492e-bf20-beb9b7ad1d9e-attachment.attach"}, {"name": "请求地址", "source": "e4b1efe0-d212-4a02-a3f7-9ebad32e14aa-attachment.attach"}, {"name": "请求头", "source": "6f4e3b9d-b17c-41ed-b0eb-2e3a87e2c922-attachment.attach"}, {"name": "请求参数", "source": "8e19195d-1283-4dc5-ae34-38dce90c9591-attachment.attach"}, {"name": "请求结果", "source": "4fc04b86-1bca-461c-91aa-e1dee64a06df-attachment.attach"}], "start": 1691056368223, "stop": 1691056368308}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "31dc2840-5937-4ab2-bb7e-5c4aaf18cde2-attachment.attach"}, {"name": "实际状态码", "source": "14e3c068-6fcf-494d-82c5-73621758dc53-attachment.attach"}], "start": 1691056368308, "stop": 1691056368309}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "27bc141e-5f61-49a4-bc79-4229fd70a063-attachment.attach"}, {"name": "实际返回值", "source": "811dcbc4-b655-42b7-a403-711cd3353ee3-attachment.attach"}], "start": 1691056368309, "stop": 1691056368310}, {"name": "json断言判断包含", "status": "passed", "attachments": [{"name": "期望结果", "source": "bd20d54e-cd4c-4f9d-8145-45be52af728a-attachment.attach"}, {"name": "实际实际结果", "source": "cfe301bb-9544-416b-8d75-4be25b552c48-attachment.attach"}], "start": 1691056368311, "stop": 1691056368312}], "start": 1691056368308, "stop": 1691056368312}], "start": 1691056368217, "stop": 1691056368314}, {"name": "创建自动化测试超级管理员", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "1ed21f2a-502a-42ec-8bfb-76191b05c6a4-attachment.attach"}, {"name": "请求地址", "source": "cca55ff1-47a3-49c0-a349-8b2773a492c3-attachment.attach"}, {"name": "请求头", "source": "bf3cc72d-833f-49af-8642-14c8e091ed3f-attachment.attach"}, {"name": "请求参数", "source": "0889daa0-dd03-4be1-8bc5-d99767df7853-attachment.attach"}, {"name": "请求结果", "source": "e736da74-ae96-4e77-9939-194554eaa243-attachment.attach"}], "start": 1691056368349, "stop": 1691056368414}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "71992ee1-ad12-4dad-b781-0c9194aa3a4c-attachment.attach"}, {"name": "实际状态码", "source": "3f8d9f5a-4d1c-4607-b813-c25f5b33db96-attachment.attach"}], "start": 1691056368414, "stop": 1691056368415}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "30adfdc2-aaa1-4bbb-8863-0f9c1089a201-attachment.attach"}, {"name": "实际返回值", "source": "925584aa-afd0-4729-a229-06644eb00148-attachment.attach"}], "start": 1691056368416, "stop": 1691056368417}], "start": 1691056368414, "stop": 1691056368417}], "start": 1691056368318, "stop": 1691056368417}, {"name": "管理员列表搜索-按登录名、角色名组合搜索", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "75774352-6c44-4eb8-ba20-91524c022a9c-attachment.attach"}, {"name": "请求地址", "source": "7b8e32bc-adc2-4270-b424-679548ef6ef6-attachment.attach"}, {"name": "请求头", "source": "ea9e54b6-d5f5-40bf-958f-629e1f6aa84c-attachment.attach"}, {"name": "请求参数", "source": "74c96749-284a-4d6f-99c8-4575bf2b60ba-attachment.attach"}, {"name": "请求结果", "source": "ce51a797-1263-45ba-a237-4cc11c9aa351-attachment.attach"}], "start": 1691056368429, "stop": 1691056368506}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "2357c215-4245-4a9d-80ec-1ead556d2c24-attachment.attach"}, {"name": "实际状态码", "source": "b3e55c73-2af6-4fae-b0f5-5326b055e468-attachment.attach"}], "start": 1691056368506, "stop": 1691056368507}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "7a132e47-a5aa-4e17-a0b2-34cfcd4e4d1b-attachment.attach"}, {"name": "实际返回值", "source": "a3b503a2-dfad-439b-9b55-96e3b340774a-attachment.attach"}], "start": 1691056368507, "stop": 1691056368509}, {"name": "json断言判断包含", "status": "passed", "attachments": [{"name": "期望结果", "source": "27b57394-1ce6-4181-94dd-bed68d090d3f-attachment.attach"}, {"name": "实际实际结果", "source": "a82f79d8-0d03-471a-9b16-cda70f82d9eb-attachment.attach"}], "start": 1691056368509, "stop": 1691056368510}, {"name": "json断言判断包含", "status": "passed", "attachments": [{"name": "期望结果", "source": "90243fa1-60dd-45f2-9659-d47e61db2d0a-attachment.attach"}, {"name": "实际实际结果", "source": "dfb7231d-31eb-4a37-9649-88da67322f36-attachment.attach"}], "start": 1691056368510, "stop": 1691056368511}], "start": 1691056368506, "stop": 1691056368511}], "start": 1691056368427, "stop": 1691056368515}, {"name": "自动化测试管理员用户修改密码成功", "status": "failed", "statusDetails": {"message": "AssertionError\n", "trace": "  File \"E:\\Wondersoft_ApiTest\\common\\runcase.py\", line 59, in excute_case\n    self.excute_apicase(api, api_casedata)\n  File \"E:\\Wondersoft_ApiTest\\common\\runcase.py\", line 90, in excute_apicase\n    checkresult.check_result(hope_result, recv_data, recv_code)\n  File \"E:\\Wondersoft_ApiTest\\common\\checkresult.py\", line 33, in check_result\n    assert_db(value)\n  File \"E:\\Wondersoft_ApiTest\\common\\checkresult.py\", line 57, in assert_db\n    assert str(value) == str(sql_value[0])\n"}, "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "2b6c901b-9963-4c19-bca5-4415663a434a-attachment.attach"}, {"name": "请求地址", "source": "818570a4-29f4-4554-9916-aeb020732d31-attachment.attach"}, {"name": "请求头", "source": "a245523f-d11a-4f5b-9ef1-9a8cfe2fd6d5-attachment.attach"}, {"name": "请求参数", "source": "0b4c05a5-cd06-4d3d-8d9f-b8f078ed1a95-attachment.attach"}, {"name": "请求结果", "source": "47f21fac-e379-4f1d-8f7d-45214590294e-attachment.attach"}], "start": 1691056368525, "stop": 1691056368578}, {"name": "结果校验", "status": "failed", "statusDetails": {"message": "AssertionError\n", "trace": "  File \"E:\\Wondersoft_ApiTest\\common\\checkresult.py\", line 33, in check_result\n    assert_db(value)\n  File \"E:\\Wondersoft_ApiTest\\common\\checkresult.py\", line 57, in assert_db\n    assert str(value) == str(sql_value[0])\n"}, "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "787f9257-f549-41e3-a9ad-ea015259bff2-attachment.attach"}, {"name": "实际状态码", "source": "66d5925c-d3b8-43db-ae5c-cbb5dd35b9ab-attachment.attach"}], "start": 1691056368578, "stop": 1691056368579}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "7e0370da-05c8-4ee1-8ad1-b70197c5cfa4-attachment.attach"}, {"name": "实际返回值", "source": "02d911a5-32ce-4704-aedb-33d400914229-attachment.attach"}], "start": 1691056368579, "stop": 1691056368580}, {"name": "数据库校验校验", "status": "failed", "statusDetails": {"message": "AssertionError\n", "trace": "  File \"E:\\Wondersoft_ApiTest\\common\\checkresult.py\", line 57, in assert_db\n    assert str(value) == str(sql_value[0])\n"}, "attachments": [{"name": "查询sql", "source": "0b48bbcd-3d07-4bf4-bc84-137bc9744440-attachment.attach"}, {"name": "期望返回值", "source": "ea0d4790-f57d-4faf-bbb7-d58b03705f66-attachment.attach"}, {"name": "实际返回值", "source": "ecfd9b70-96f6-49c4-8f05-26cea5b2bcca-attachment.attach"}], "start": 1691056368585, "stop": 1691056368587}], "start": 1691056368578, "stop": 1691056368587}], "start": 1691056368522, "stop": 1691056368587}], "attachments": [{"name": "log", "source": "d34ce511-b542-469d-8598-68f555f61d19-attachment.txt", "type": "text/plain"}], "start": 1691056367699, "stop": 1691056368587, "uuid": "f7b8334c-f1e1-4544-af85-892605842c6b", "historyId": "e487978c9a339317a4f7eb0ab1418ddc", "testCaseId": "2cc05bdd47264d0a6d036e2b95402968", "fullName": "testcases.test_cases.TestUserSync#test_businesscases", "labels": [{"name": "epic", "value": "系统管理"}, {"name": "feature", "value": "权限管理"}, {"name": "story", "value": "管理员配置"}, {"name": "parentSuite", "value": "testcases"}, {"name": "suite", "value": "test_cases"}, {"name": "subSuite", "value": "TestUserSync"}, {"name": "host", "value": "OFYI7JX9DURTDV6"}, {"name": "thread", "value": "20716-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.test_cases"}]}