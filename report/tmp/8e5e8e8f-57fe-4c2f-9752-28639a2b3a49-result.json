{"name": "自动化测试管理员用户修改密码成功", "status": "failed", "statusDetails": {"message": "AssertionError", "trace": "self = <test_cases.TestUserSync object at 0x000002684C758BE0>\ncase = 'useradminPasswdUpdate'\ncasedata = {'description': '自动化测试管理员用户修改密码成功', 'epic': '系统管理', 'feature': '权限管理', 'name': '自动化测试管理员用户修改密码成功', ...}\n\n    @pytest.mark.parametrize('case, casedata', readcase.ReadCase().get_case(businesscase_pathlist))\n    def test_businesscases(self, case, casedata):\n        handleallure.allure_display(casedata)\n        logging.info(\"==========执行用例START：%s==========\", case)\n>       runcase.RunCase().excute_case(casedata)\n\ntestcases\\test_cases.py:44: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ncommon\\runcase.py:59: in excute_case\n    self.excute_apicase(api, api_casedata)\ncommon\\runcase.py:90: in excute_apicase\n    checkresult.check_result(hope_result, recv_data, recv_code)\ncommon\\checkresult.py:33: in check_result\n    assert_db(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhope_res = [{'result': [{'path': '$.password', 'value': '394f481895a1c5bef3da3d0685f41453385ef0aa'}], 'sql': \"select password from `bms-general-aa`.t_sys_admin tsa where id = 'D769263B-93C94F5F-9896355E-F5E71EB1'\", 'type': 'mysql'}]\n\n    def assert_db(hope_res):\n        \"\"\"\n        数据库校验\n        :param hope_res:\n        :return:\n        \"\"\"\n        if hope_res:\n            for dbcheck_data in hope_res:\n                db_type = dbcheck_data['type']  # 数据库类型\n                db_sql = dbcheck_data['sql']\n                if db_type == 'mysql':\n                    if db_sql[0:6].upper() == 'SELECT':\n                        sql_date = database.MysqlConn().mysql_query(db_sql)\n                        with allure.step(\"数据库校验校验\"):\n                            for param in dbcheck_data['result']:\n                                sql_value = jsonpath.jsonpath(sql_date, param['path'])\n                                value = param['value']\n                                try:\n                                    allure.attach(name=\"查询sql\", body=str(db_sql))\n                                    allure.attach(name=\"期望返回值\", body=str(value))\n                                    if sql_value:\n                                        allure.attach(name='实际返回值', body=str(sql_value[0]))\n>                                       assert str(value) == str(sql_value[0])\nE                                       AssertionError\n\ncommon\\checkresult.py:57: AssertionError"}, "description": "自动化测试管理员用户修改密码成功", "steps": [{"name": "新增用户组-新增成功", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "51fb693d-bbf8-4099-99f3-6eed68870745-attachment.attach"}, {"name": "请求地址", "source": "4e7e56ce-2a67-4b9a-9ff7-e88156fec283-attachment.attach"}, {"name": "请求头", "source": "985404aa-4b65-43e7-8a9f-91d7095f539a-attachment.attach"}, {"name": "请求参数", "source": "271a6497-1197-4085-8b08-53cc832df249-attachment.attach"}, {"name": "请求结果", "source": "ea47df00-a4a0-4b18-bae3-59ce1d3a7085-attachment.attach"}], "start": 1691056373760, "stop": 1691056373829}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "52821707-e882-49a5-9683-2a2348d15252-attachment.attach"}, {"name": "实际状态码", "source": "7d5f7a4b-6a60-4da3-8349-24f4de1bb30c-attachment.attach"}], "start": 1691056373830, "stop": 1691056373832}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "d23aa743-c7be-4f5a-b515-d6c55346395c-attachment.attach"}, {"name": "实际返回值", "source": "adc6383b-b77f-43b9-baa9-20876103f8c0-attachment.attach"}], "start": 1691056373832, "stop": 1691056373835}, {"name": "数据库校验校验", "status": "passed", "attachments": [{"name": "查询sql", "source": "55bf856e-d14e-427e-bafc-b70ce73df9eb-attachment.attach"}, {"name": "期望返回值", "source": "6422d944-fdb1-4b3d-a4d6-b977b67003e3-attachment.attach"}, {"name": "实际返回值", "source": "ad3f3d94-54b5-4e1a-a4e4-35c34fbc1c8b-attachment.attach"}], "start": 1691056373845, "stop": 1691056373848}], "start": 1691056373830, "stop": 1691056373848}], "start": 1691056373723, "stop": 1691056373848}, {"name": "搜索一级组织机构下特定用户组信息", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "66d4114e-3f3c-476a-82f5-199d22c59af9-attachment.attach"}, {"name": "请求地址", "source": "c3049527-35cd-4d61-9065-dd423043770d-attachment.attach"}, {"name": "请求头", "source": "e62dff39-511a-4af7-ba4e-3e149dbfdaa7-attachment.attach"}, {"name": "请求参数", "source": "46e3e5b3-32b8-45af-9e6d-76c0c034c2f2-attachment.attach"}, {"name": "请求结果", "source": "18136ddc-06a7-439a-a276-a3e2baffb301-attachment.attach"}], "start": 1691056373860, "stop": 1691056373931}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "20bb0d3d-4a82-4876-880b-7535ee72c115-attachment.attach"}, {"name": "实际状态码", "source": "6e0c1105-f88b-47ba-8706-9628c332a954-attachment.attach"}], "start": 1691056373931, "stop": 1691056373932}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "9ed73e0b-31a5-4ed4-b16b-b52e3b463afe-attachment.attach"}, {"name": "实际返回值", "source": "35abd153-973b-40d0-9972-c2e3dd0a8ad0-attachment.attach"}], "start": 1691056373932, "stop": 1691056373933}, {"name": "json断言判断包含", "status": "passed", "attachments": [{"name": "期望结果", "source": "a0fb944c-3161-4638-bf14-bd3c727686be-attachment.attach"}, {"name": "实际实际结果", "source": "727e1498-0c95-4d9d-9611-b23766ddb3ef-attachment.attach"}], "start": 1691056373934, "stop": 1691056373935}], "start": 1691056373931, "stop": 1691056373935}], "start": 1691056373858, "stop": 1691056373938}, {"name": "自建用户组新增普通职员用户成功", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "c163f731-f708-4c0e-a762-6a39e8c478c9-attachment.attach"}, {"name": "请求地址", "source": "f5ecd64f-e804-401a-ae46-4355b34de650-attachment.attach"}, {"name": "请求头", "source": "7ed21801-7a08-4162-adaf-2c3457ff724f-attachment.attach"}, {"name": "请求参数", "source": "081288a6-156a-484d-9bf5-2ed0ef316540-attachment.attach"}, {"name": "请求结果", "source": "97b6f918-17e4-4cb3-bfa7-1e70f1c0edaa-attachment.attach"}], "start": 1691056373992, "stop": 1691056374059}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "5dd73e82-3ee9-4a22-8068-24bdd31b7329-attachment.attach"}, {"name": "实际状态码", "source": "fabe81d3-9689-4d0c-b77d-3b5cc567b32f-attachment.attach"}], "start": 1691056374059, "stop": 1691056374060}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "c0d35673-03a5-42e2-8bd8-896d145154fb-attachment.attach"}, {"name": "实际返回值", "source": "9566ef0e-2f08-4af8-8291-2f500e2a4a70-attachment.attach"}], "start": 1691056374060, "stop": 1691056374061}, {"name": "数据库校验校验", "status": "passed", "attachments": [{"name": "查询sql", "source": "42dad71d-017f-4378-b963-aca75c944382-attachment.attach"}, {"name": "期望返回值", "source": "306cc031-5250-46ec-9140-7ad1af19a41e-attachment.attach"}, {"name": "实际返回值", "source": "ca8141dd-6dc4-4162-b710-835e3ad3a666-attachment.attach"}], "start": 1691056374079, "stop": 1691056374081}], "start": 1691056374059, "stop": 1691056374081}], "start": 1691056373945, "stop": 1691056374081}, {"name": "搜索自动化测试组织机构下的用户列表-根据姓名搜索", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "29edac40-53df-4e04-a55f-53c2aa894189-attachment.attach"}, {"name": "请求地址", "source": "5dd13c1c-3631-4c3b-9a5d-3e76f12e8435-attachment.attach"}, {"name": "请求头", "source": "5f81e355-34df-4bd6-96f5-639cfc5af19c-attachment.attach"}, {"name": "请求参数", "source": "0ba7e1cc-b83e-4614-877b-a057101af88b-attachment.attach"}, {"name": "请求结果", "source": "e2e74a9a-fd43-49c4-93b5-44c5b9091f43-attachment.attach"}], "start": 1691056374094, "stop": 1691056374179}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "d6544816-6ca7-4307-98a8-126eda97352e-attachment.attach"}, {"name": "实际状态码", "source": "359cf0f6-9eff-4171-98d0-219bf0265077-attachment.attach"}], "start": 1691056374179, "stop": 1691056374179}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "155f83f2-554b-4361-8f25-4d8e6fc52342-attachment.attach"}, {"name": "实际返回值", "source": "f43d1707-7a97-4944-bb43-5595b211fcd3-attachment.attach"}], "start": 1691056374179, "stop": 1691056374181}, {"name": "json断言判断包含", "status": "passed", "attachments": [{"name": "期望结果", "source": "25ceb56d-1e53-46a0-b3f3-b4651ce640bf-attachment.attach"}, {"name": "实际实际结果", "source": "34cdb1b2-5d55-43e6-a0a6-8ff49d4ff503-attachment.attach"}], "start": 1691056374181, "stop": 1691056374182}], "start": 1691056374179, "stop": 1691056374182}], "start": 1691056374092, "stop": 1691056374185}, {"name": "创建自动化测试超级管理员", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "423e1d42-0665-4c68-b1d5-3e674cea5859-attachment.attach"}, {"name": "请求地址", "source": "759279f5-99c1-4e06-a43a-e97e190df642-attachment.attach"}, {"name": "请求头", "source": "d08be0c7-b3f0-4c76-ba4b-10295fe62a8b-attachment.attach"}, {"name": "请求参数", "source": "c3582c9e-f71f-4d4c-b52b-137d3b59bf60-attachment.attach"}, {"name": "请求结果", "source": "96e568d4-d222-4316-b869-f7bcf9bb054a-attachment.attach"}], "start": 1691056374200, "stop": 1691056374266}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "e919480e-fe6b-4139-8726-555ab8d7d34e-attachment.attach"}, {"name": "实际状态码", "source": "d8fcfc2a-5adc-45b6-a5dc-09c726d9e43c-attachment.attach"}], "start": 1691056374266, "stop": 1691056374268}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "fd8aa32b-2ed5-40e8-a7bf-a958e0754a26-attachment.attach"}, {"name": "实际返回值", "source": "96b8fa9c-a358-4032-b5df-ec3d0ed93e96-attachment.attach"}], "start": 1691056374268, "stop": 1691056374269}], "start": 1691056374266, "stop": 1691056374269}], "start": 1691056374189, "stop": 1691056374269}, {"name": "管理员列表搜索-按登录名、角色名组合搜索", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "6ce08df3-7451-4189-adea-faa7385b33b4-attachment.attach"}, {"name": "请求地址", "source": "b47fb85b-d051-4275-8b12-72eaa3539fe6-attachment.attach"}, {"name": "请求头", "source": "cdb16f64-63c3-4206-a0df-8089f19761a2-attachment.attach"}, {"name": "请求参数", "source": "fd63654f-8e7e-4229-80f5-0c40acefdab9-attachment.attach"}, {"name": "请求结果", "source": "b3379e62-ddad-489d-886c-ab61f1943db9-attachment.attach"}], "start": 1691056374280, "stop": 1691056374356}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "dcf9d523-ecb0-4862-b9b0-d3924d7e9e48-attachment.attach"}, {"name": "实际状态码", "source": "adb38edd-d7c8-4c04-9454-42f730584172-attachment.attach"}], "start": 1691056374356, "stop": 1691056374357}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "9fd6136b-087c-4bd3-b6bc-1a3f269f0e5f-attachment.attach"}, {"name": "实际返回值", "source": "47abd378-1b5d-4c74-aa87-c7ec26e390e5-attachment.attach"}], "start": 1691056374357, "stop": 1691056374358}, {"name": "json断言判断包含", "status": "passed", "attachments": [{"name": "期望结果", "source": "05483adc-7183-4200-a54c-ebe92ae16c16-attachment.attach"}, {"name": "实际实际结果", "source": "8cb08e99-bda8-4dd0-be63-5b74123991e3-attachment.attach"}], "start": 1691056374358, "stop": 1691056374359}, {"name": "json断言判断包含", "status": "passed", "attachments": [{"name": "期望结果", "source": "7ad2b20f-30fe-4eff-8256-a9ef4a9caf46-attachment.attach"}, {"name": "实际实际结果", "source": "e2d6f670-e740-45d5-943e-411006490306-attachment.attach"}], "start": 1691056374359, "stop": 1691056374361}], "start": 1691056374356, "stop": 1691056374361}], "start": 1691056374278, "stop": 1691056374364}, {"name": "自动化测试管理员用户修改密码成功", "status": "failed", "statusDetails": {"message": "AssertionError\n", "trace": "  File \"E:\\Wondersoft_ApiTest\\common\\runcase.py\", line 59, in excute_case\n    self.excute_apicase(api, api_casedata)\n  File \"E:\\Wondersoft_ApiTest\\common\\runcase.py\", line 90, in excute_apicase\n    checkresult.check_result(hope_result, recv_data, recv_code)\n  File \"E:\\Wondersoft_ApiTest\\common\\checkresult.py\", line 33, in check_result\n    assert_db(value)\n  File \"E:\\Wondersoft_ApiTest\\common\\checkresult.py\", line 57, in assert_db\n    assert str(value) == str(sql_value[0])\n"}, "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "2102b560-0c17-4220-affc-4b7fc83a96be-attachment.attach"}, {"name": "请求地址", "source": "1bd07e95-2ef7-4431-9d11-8e1b176925b1-attachment.attach"}, {"name": "请求头", "source": "08d1c68b-cc72-43d4-a4a6-c05ee1387745-attachment.attach"}, {"name": "请求参数", "source": "b1a9b472-5be6-4013-8851-894783c1440f-attachment.attach"}, {"name": "请求结果", "source": "728a9845-f6b9-48c5-adc9-5ce30bbd936b-attachment.attach"}], "start": 1691056374375, "stop": 1691056374431}, {"name": "结果校验", "status": "failed", "statusDetails": {"message": "AssertionError\n", "trace": "  File \"E:\\Wondersoft_ApiTest\\common\\checkresult.py\", line 33, in check_result\n    assert_db(value)\n  File \"E:\\Wondersoft_ApiTest\\common\\checkresult.py\", line 57, in assert_db\n    assert str(value) == str(sql_value[0])\n"}, "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "cededc40-9234-4761-a374-7d0deb0da6e6-attachment.attach"}, {"name": "实际状态码", "source": "48cc9a9a-7965-4bdc-b8d1-5dafe52b3a75-attachment.attach"}], "start": 1691056374431, "stop": 1691056374432}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "a33fb95a-67a6-484d-874a-ba41c201192d-attachment.attach"}, {"name": "实际返回值", "source": "742e6a95-ad37-4391-a038-fadd95b4b73e-attachment.attach"}], "start": 1691056374432, "stop": 1691056374433}, {"name": "数据库校验校验", "status": "failed", "statusDetails": {"message": "AssertionError\n", "trace": "  File \"E:\\Wondersoft_ApiTest\\common\\checkresult.py\", line 57, in assert_db\n    assert str(value) == str(sql_value[0])\n"}, "attachments": [{"name": "查询sql", "source": "582f39ab-af35-48ce-9e84-7f0984645f45-attachment.attach"}, {"name": "期望返回值", "source": "441454a3-a3bf-4e0b-8695-86ce042e1b73-attachment.attach"}, {"name": "实际返回值", "source": "1b789d8c-ea7f-416a-abcf-f488f6df4097-attachment.attach"}], "start": 1691056374439, "stop": 1691056374440}], "start": 1691056374431, "stop": 1691056374440}], "start": 1691056374372, "stop": 1691056374440}], "attachments": [{"name": "log", "source": "05ef21f2-9cf6-4f2b-8ea6-6b896a1117b1-attachment.txt", "type": "text/plain"}], "start": 1691056373612, "stop": 1691056374441, "uuid": "e000aba7-1fe4-4cce-a43f-998b0b2266b4", "historyId": "e487978c9a339317a4f7eb0ab1418ddc", "testCaseId": "2cc05bdd47264d0a6d036e2b95402968", "fullName": "testcases.test_cases.TestUserSync#test_businesscases", "labels": [{"name": "epic", "value": "系统管理"}, {"name": "feature", "value": "权限管理"}, {"name": "story", "value": "管理员配置"}, {"name": "parentSuite", "value": "testcases"}, {"name": "suite", "value": "test_cases"}, {"name": "subSuite", "value": "TestUserSync"}, {"name": "host", "value": "OFYI7JX9DURTDV6"}, {"name": "thread", "value": "20716-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.test_cases"}]}