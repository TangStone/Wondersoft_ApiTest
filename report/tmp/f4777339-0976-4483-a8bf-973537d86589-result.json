{"name": "自动化测试管理员用户修改密码成功", "status": "failed", "statusDetails": {"message": "AssertionError", "trace": "self = <test_cases.TestUserSync object at 0x000002684C758BE0>\ncase = 'useradminPasswdUpdate'\ncasedata = {'description': '自动化测试管理员用户修改密码成功', 'epic': '系统管理', 'feature': '权限管理', 'name': '自动化测试管理员用户修改密码成功', ...}\n\n    @pytest.mark.parametrize('case, casedata', readcase.ReadCase().get_case(businesscase_pathlist))\n    def test_businesscases(self, case, casedata):\n        handleallure.allure_display(casedata)\n        logging.info(\"==========执行用例START：%s==========\", case)\n>       runcase.RunCase().excute_case(casedata)\n\ntestcases\\test_cases.py:44: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ncommon\\runcase.py:59: in excute_case\n    self.excute_apicase(api, api_casedata)\ncommon\\runcase.py:90: in excute_apicase\n    checkresult.check_result(hope_result, recv_data, recv_code)\ncommon\\checkresult.py:33: in check_result\n    assert_db(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhope_res = [{'result': [{'path': '$.password', 'value': '394f481895a1c5bef3da3d0685f41453385ef0aa'}], 'sql': \"select password from `bms-general-aa`.t_sys_admin tsa where id = '7B46AEE3-E79B427B-9F042100-5DC16B57'\", 'type': 'mysql'}]\n\n    def assert_db(hope_res):\n        \"\"\"\n        数据库校验\n        :param hope_res:\n        :return:\n        \"\"\"\n        if hope_res:\n            for dbcheck_data in hope_res:\n                db_type = dbcheck_data['type']  # 数据库类型\n                db_sql = dbcheck_data['sql']\n                if db_type == 'mysql':\n                    if db_sql[0:6].upper() == 'SELECT':\n                        sql_date = database.MysqlConn().mysql_query(db_sql)\n                        with allure.step(\"数据库校验校验\"):\n                            for param in dbcheck_data['result']:\n                                sql_value = jsonpath.jsonpath(sql_date, param['path'])\n                                value = param['value']\n                                try:\n                                    allure.attach(name=\"查询sql\", body=str(db_sql))\n                                    allure.attach(name=\"期望返回值\", body=str(value))\n                                    if sql_value:\n                                        allure.attach(name='实际返回值', body=str(sql_value[0]))\n>                                       assert str(value) == str(sql_value[0])\nE                                       AssertionError\n\ncommon\\checkresult.py:57: AssertionError"}, "description": "自动化测试管理员用户修改密码成功", "steps": [{"name": "新增用户组-新增成功", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "c21ffb96-2277-4e42-abb1-5342ddd263c9-attachment.attach"}, {"name": "请求地址", "source": "3a3031e4-0cc4-4776-bc5f-35725c88b745-attachment.attach"}, {"name": "请求头", "source": "d2c086d3-4114-472a-b410-87f7e6bb68df-attachment.attach"}, {"name": "请求参数", "source": "41ca1e42-f5a9-4997-9ef1-12baef87491d-attachment.attach"}, {"name": "请求结果", "source": "7e1bf7d1-31bc-41e2-a948-edc773c142f3-attachment.attach"}], "start": 1691056356192, "stop": 1691056356288}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "e22fef16-51ec-4165-a154-4021f3d0e4ed-attachment.attach"}, {"name": "实际状态码", "source": "1e600ae7-0c95-4e4b-96b4-9d10b8de7334-attachment.attach"}], "start": 1691056356288, "stop": 1691056356289}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "f78b9a74-e18e-4a5d-8127-304e7ee0c5ca-attachment.attach"}, {"name": "实际返回值", "source": "44f09a6c-d8b4-4a52-bea5-490806577de5-attachment.attach"}], "start": 1691056356289, "stop": 1691056356291}, {"name": "数据库校验校验", "status": "passed", "attachments": [{"name": "查询sql", "source": "57eee732-b47e-4e00-866a-209c6cf45235-attachment.attach"}, {"name": "期望返回值", "source": "a5749994-7286-454b-8250-034840ed4efd-attachment.attach"}, {"name": "实际返回值", "source": "8b18ac31-fca9-4ad3-8907-c1edb3f75969-attachment.attach"}], "start": 1691056356297, "stop": 1691056356299}], "start": 1691056356288, "stop": 1691056356299}], "start": 1691056356169, "stop": 1691056356299}, {"name": "搜索一级组织机构下特定用户组信息", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "3b75b32d-cfb4-4d1d-99ba-d8679f1ed195-attachment.attach"}, {"name": "请求地址", "source": "b4cbc3ab-0f9b-4d38-92f7-fe3170819521-attachment.attach"}, {"name": "请求头", "source": "7bd2186a-3181-4337-8442-5ebb061ceccd-attachment.attach"}, {"name": "请求参数", "source": "9d10126e-e46c-449d-9b78-ae520984b95f-attachment.attach"}, {"name": "请求结果", "source": "27330c6d-a94e-4463-bed0-4859cdd50836-attachment.attach"}], "start": 1691056356307, "stop": 1691056356363}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "12143403-c0c1-40fb-9e17-b3de838da06c-attachment.attach"}, {"name": "实际状态码", "source": "1850199d-2bcf-4d9d-9a72-0f66bedbee0d-attachment.attach"}], "start": 1691056356363, "stop": 1691056356364}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "5c05c73b-e264-4a96-a148-e115044b630c-attachment.attach"}, {"name": "实际返回值", "source": "94a530b5-a7a4-45c9-b61e-85c28ab1be0d-attachment.attach"}], "start": 1691056356364, "stop": 1691056356365}, {"name": "json断言判断包含", "status": "passed", "attachments": [{"name": "期望结果", "source": "8142b698-16d0-4a99-8733-606122387a18-attachment.attach"}, {"name": "实际实际结果", "source": "9cd423ac-12dd-40d6-8407-47ab653354d3-attachment.attach"}], "start": 1691056356365, "stop": 1691056356366}], "start": 1691056356363, "stop": 1691056356366}], "start": 1691056356305, "stop": 1691056356368}, {"name": "自建用户组新增普通职员用户成功", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "df1f6346-375a-4468-8839-dad0b029b125-attachment.attach"}, {"name": "请求地址", "source": "51501a44-3022-4c7c-8ea9-03fc1ac2e8d4-attachment.attach"}, {"name": "请求头", "source": "d73430b3-a6b4-4dcd-b97c-7b6f0dae3dd4-attachment.attach"}, {"name": "请求参数", "source": "1b4c739a-5105-403c-b8c1-d2040bdbf390-attachment.attach"}, {"name": "请求结果", "source": "5f217039-8726-4dde-9dc6-593fb9090211-attachment.attach"}], "start": 1691056356396, "stop": 1691056356473}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "9d6803b9-dd8c-4640-99e1-03921cbdc913-attachment.attach"}, {"name": "实际状态码", "source": "1c19fc8f-b7d8-43e3-bae4-434885e19a6b-attachment.attach"}], "start": 1691056356473, "stop": 1691056356474}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "00394608-d87e-4a6d-8cfe-21e3890ed68e-attachment.attach"}, {"name": "实际返回值", "source": "5ca25105-eb45-4d09-8100-21c6bbbe9b53-attachment.attach"}], "start": 1691056356474, "stop": 1691056356476}, {"name": "数据库校验校验", "status": "passed", "attachments": [{"name": "查询sql", "source": "b949a0ae-47f4-4542-9ae9-664b7871fa79-attachment.attach"}, {"name": "期望返回值", "source": "79c07f24-930b-4fa0-b735-612381c76a12-attachment.attach"}, {"name": "实际返回值", "source": "93fad854-2d4b-4647-ac62-8eed7f3819c3-attachment.attach"}], "start": 1691056356491, "stop": 1691056356493}], "start": 1691056356473, "stop": 1691056356493}], "start": 1691056356375, "stop": 1691056356494}, {"name": "搜索自动化测试组织机构下的用户列表-根据姓名搜索", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "5621e88f-601a-4a44-a55a-dbbe1f538dd4-attachment.attach"}, {"name": "请求地址", "source": "c9372fdd-4e10-459b-9887-844aad6e3cde-attachment.attach"}, {"name": "请求头", "source": "07ee5852-61b8-4355-8b40-cd1807185f4b-attachment.attach"}, {"name": "请求参数", "source": "373df922-d80c-4413-bcec-ae2e3ce8bcb1-attachment.attach"}, {"name": "请求结果", "source": "95570378-412e-4830-96ab-8099c0d8751f-attachment.attach"}], "start": 1691056356508, "stop": 1691056356570}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "ff7d49cb-7e6a-436d-93a4-3488890012ec-attachment.attach"}, {"name": "实际状态码", "source": "abafa960-b5d9-4836-a7ef-431509564c5b-attachment.attach"}], "start": 1691056356570, "stop": 1691056356571}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "086cb645-fcf2-4365-9af2-bc6e8b7011a7-attachment.attach"}, {"name": "实际返回值", "source": "a9b7c2f7-b7e5-42f3-9627-d288e9f56abf-attachment.attach"}], "start": 1691056356571, "stop": 1691056356572}, {"name": "json断言判断包含", "status": "passed", "attachments": [{"name": "期望结果", "source": "f09e1ef5-ab97-44d6-9c69-75b5e8506059-attachment.attach"}, {"name": "实际实际结果", "source": "c95b81e4-f47a-4f16-8c1d-1c5af37952d4-attachment.attach"}], "start": 1691056356572, "stop": 1691056356573}], "start": 1691056356570, "stop": 1691056356573}], "start": 1691056356506, "stop": 1691056356575}, {"name": "创建自动化测试超级管理员", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "044d8a7e-843a-4a4f-86f1-493660ccf430-attachment.attach"}, {"name": "请求地址", "source": "b2900d7d-2fd9-4d98-99d1-4fb859741162-attachment.attach"}, {"name": "请求头", "source": "c3ce920a-54bd-4013-9441-2854c85d4b04-attachment.attach"}, {"name": "请求参数", "source": "4223c5e1-6039-4422-b36a-95832744eed2-attachment.attach"}, {"name": "请求结果", "source": "2cac0b75-4fcd-4a48-939b-8a036b5369c8-attachment.attach"}], "start": 1691056356589, "stop": 1691056356656}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "c732bb0b-6b26-4008-b76f-b2f86456c08a-attachment.attach"}, {"name": "实际状态码", "source": "681dd38d-f233-4dae-bb27-551218872c06-attachment.attach"}], "start": 1691056356656, "stop": 1691056356657}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "ee803a78-1a60-4b49-aeb7-10f0c0c2d221-attachment.attach"}, {"name": "实际返回值", "source": "dc3b3f1a-c6b3-43d5-aece-495088f9d784-attachment.attach"}], "start": 1691056356657, "stop": 1691056356658}], "start": 1691056356656, "stop": 1691056356658}], "start": 1691056356579, "stop": 1691056356658}, {"name": "管理员列表搜索-按登录名、角色名组合搜索", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "81cbc116-6cc5-4e6c-99eb-8109d295946d-attachment.attach"}, {"name": "请求地址", "source": "76c38ef7-df42-41a1-a007-15c947310066-attachment.attach"}, {"name": "请求头", "source": "506578cd-3d35-4e3d-a9ff-838df33d23fa-attachment.attach"}, {"name": "请求参数", "source": "9288f51a-dda7-40b0-b7eb-f1f3c156eb13-attachment.attach"}, {"name": "请求结果", "source": "f16263b1-09a3-4b1f-ad2a-bb3851f7b011-attachment.attach"}], "start": 1691056356672, "stop": 1691056356747}, {"name": "结果校验", "status": "passed", "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "26d94caf-ce29-4f85-852f-2a6aac8a41af-attachment.attach"}, {"name": "实际状态码", "source": "d1eec8c4-1b37-4555-9e02-0e274125d82d-attachment.attach"}], "start": 1691056356747, "stop": 1691056356748}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "02f6c04f-70d6-44e6-ac47-44166779bb78-attachment.attach"}, {"name": "实际返回值", "source": "aa79a545-8328-4b65-81f0-d14f7e4b5183-attachment.attach"}], "start": 1691056356748, "stop": 1691056356749}, {"name": "json断言判断包含", "status": "passed", "attachments": [{"name": "期望结果", "source": "61395b25-46a7-441b-b262-bbbbb8dc551e-attachment.attach"}, {"name": "实际实际结果", "source": "013c7b79-4383-44d1-8b27-819bc251c3aa-attachment.attach"}], "start": 1691056356749, "stop": 1691056356750}, {"name": "json断言判断包含", "status": "passed", "attachments": [{"name": "期望结果", "source": "b3258181-8a81-4b64-95a6-fc8b8bd7813c-attachment.attach"}, {"name": "实际实际结果", "source": "f625f169-11cd-4e66-910e-7299f539d07c-attachment.attach"}], "start": 1691056356750, "stop": 1691056356751}], "start": 1691056356747, "stop": 1691056356751}], "start": 1691056356670, "stop": 1691056356753}, {"name": "自动化测试管理员用户修改密码成功", "status": "failed", "statusDetails": {"message": "AssertionError\n", "trace": "  File \"E:\\Wondersoft_ApiTest\\common\\runcase.py\", line 59, in excute_case\n    self.excute_apicase(api, api_casedata)\n  File \"E:\\Wondersoft_ApiTest\\common\\runcase.py\", line 90, in excute_apicase\n    checkresult.check_result(hope_result, recv_data, recv_code)\n  File \"E:\\Wondersoft_ApiTest\\common\\checkresult.py\", line 33, in check_result\n    assert_db(value)\n  File \"E:\\Wondersoft_ApiTest\\common\\checkresult.py\", line 57, in assert_db\n    assert str(value) == str(sql_value[0])\n"}, "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求方法：", "source": "c19bcd79-98b3-4de3-9321-001127be9345-attachment.attach"}, {"name": "请求地址", "source": "a5c64a01-bed9-484b-9cfb-89de37f9988a-attachment.attach"}, {"name": "请求头", "source": "958595da-501d-4e27-834d-925bfcab472d-attachment.attach"}, {"name": "请求参数", "source": "2132d2e0-d7ba-4e2a-b774-a044286be6da-attachment.attach"}, {"name": "请求结果", "source": "418b7bfd-8f98-4e22-b4fa-bec1f108054e-attachment.attach"}], "start": 1691056356758, "stop": 1691056356814}, {"name": "结果校验", "status": "failed", "statusDetails": {"message": "AssertionError\n", "trace": "  File \"E:\\Wondersoft_ApiTest\\common\\checkresult.py\", line 33, in check_result\n    assert_db(value)\n  File \"E:\\Wondersoft_ApiTest\\common\\checkresult.py\", line 57, in assert_db\n    assert str(value) == str(sql_value[0])\n"}, "steps": [{"name": "状态码校验", "status": "passed", "attachments": [{"name": "期望状态码", "source": "abab3365-82df-4dfe-9548-fbcdb1c401eb-attachment.attach"}, {"name": "实际状态码", "source": "e3f1d0e6-6d4f-4dbc-855c-d8a6751be669-attachment.attach"}], "start": 1691056356814, "stop": 1691056356815}, {"name": "返回值校验", "status": "passed", "attachments": [{"name": "期望返回值", "source": "4d47e5b2-fd36-4891-aef0-af19dd12a7f4-attachment.attach"}, {"name": "实际返回值", "source": "2b2d20b5-1635-4939-aabe-09a87a8e51a5-attachment.attach"}], "start": 1691056356815, "stop": 1691056356815}, {"name": "数据库校验校验", "status": "failed", "statusDetails": {"message": "AssertionError\n", "trace": "  File \"E:\\Wondersoft_ApiTest\\common\\checkresult.py\", line 57, in assert_db\n    assert str(value) == str(sql_value[0])\n"}, "attachments": [{"name": "查询sql", "source": "9806c160-5ef3-4334-8938-5040c3560c19-attachment.attach"}, {"name": "期望返回值", "source": "cfc74533-9c27-4222-b3d2-f2c6386db727-attachment.attach"}, {"name": "实际返回值", "source": "c16bf71a-bac9-4f4b-8662-536c6ad985da-attachment.attach"}], "start": 1691056356820, "stop": 1691056356822}], "start": 1691056356814, "stop": 1691056356822}], "start": 1691056356756, "stop": 1691056356822}], "attachments": [{"name": "log", "source": "413c8736-fd4c-4fd2-8e76-d74000c85bb1-attachment.txt", "type": "text/plain"}], "start": 1691056356056, "stop": 1691056356822, "uuid": "a97ddcd8-d187-4dfa-a48b-8fb3827d0067", "historyId": "e487978c9a339317a4f7eb0ab1418ddc", "testCaseId": "2cc05bdd47264d0a6d036e2b95402968", "fullName": "testcases.test_cases.TestUserSync#test_businesscases", "labels": [{"name": "epic", "value": "系统管理"}, {"name": "feature", "value": "权限管理"}, {"name": "story", "value": "管理员配置"}, {"name": "parentSuite", "value": "testcases"}, {"name": "suite", "value": "test_cases"}, {"name": "subSuite", "value": "TestUserSync"}, {"name": "host", "value": "OFYI7JX9DURTDV6"}, {"name": "thread", "value": "20716-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.test_cases"}]}