- epic: 用户管理
  feature: 用户同步管理-用户同步
  story: 修改数据源配置接口
  case_info:
    base_url: ${config(host)}
    request:
      method: put
      address: /api/usersync/v1/config/${relevance(id)}
      headers:
        Content-Type: application/json
        token: ${extract(token)}
        Referer: ${config(host)}/sub-app-unity/userSync
  case_data:
    usersync_config_update_01:
      name: 修改LDAP数据源名称成功
      description: 修改数据源名称
      request:
        data:
          type: domain
          name: 自动化测试70.235数据源修改
          id: ${relevance(id)}
          configs: "{\"name\":\"自动化测试70.235数据源修改\",\"host\":\"192.168.70.235\",\"port\":\"389\",\"username\":\"xiantest\\\\administrator\",\"password\":\"Ws-123456abc\",\"base\":\"DC=xiantest,DC=com\",\"org\":\"ou=北京明朝万达\",\"isEncrypt\":false,\"userFilter\":\"\",\"groupFilter\":\"\",\"isIncrement\":false}"
          relations: "{\"sourceUUID\":\"objectGUID\",\"groupLabel\":\"ou\",\"groupName\":\"name\",\"userLabel\":\"cn\",\"userName\":\"sAMAccountName\",\"userSid\":\"objectSid\"}"
      relevance:
        - caseid: usersync_config_list_02
          response:
            - value: $.data.list[0].id
              name: id
      validate:
        code: 200
        response: { "statusCode": 0,"msg": "success" }

